---
import Layout from "@/layouts/Layout.astro";
import Header from "@/components/Header.astro";
import Footer from "@/components/Footer.astro";
import Socials from "@/components/Socials.astro";
import Hr from "@/components/Hr.astro";
import { SOCIALS } from "@/constants";

// ðŸ‘‡ import your logo from public
import BgmLogo from "public/assets/bgm-logo.svg";

// const posts = await getCollection("blog");

// const sortedPosts = getSortedPosts(posts);
// const featuredPosts = sortedPosts.filter(({ data }) => data.featured);
// const recentPosts = sortedPosts.filter(({ data }) => !data.featured);
---

<Layout>
  <Header />
  <main id="main-content" data-layout="index">
    <!-- HERO / LANDING -->
    <section id="hero" class="pt-8 pb-6">
      <div class="flex items-center justify-between gap-4">
        <div class="space-y-4">
          <h1 class="text-4xl font-bold sm:text-5xl">
            Life of Brandon Mederos
          </h1>
          <p class="max-w-xl text-base text-slate-300 sm:text-lg">
            Computer Science graduate, martial arts instructor, and
            systems-driven leader focused on building structure, clarity, and
            growth in every environment I work in.
          </p>

          <div class="flex flex-wrap gap-3 pt-2">
            <a
              href="/about"
              class="inline-flex items-center justify-center rounded-lg bg-blue-600 px-5 py-2.5 text-sm font-semibold text-white transition-colors hover:bg-blue-700"
            >
              Learn more about me
            </a>
            <a
              href="/projects"
              class="inline-flex items-center justify-center rounded-lg border border-slate-600 px-5 py-2.5 text-sm font-semibold text-slate-100 transition-colors hover:border-slate-400"
            >
              View technical projects
            </a>
          </div>

          {
            SOCIALS.length > 0 && (
              <div class="mt-4 flex flex-col sm:flex-row sm:items-center">
                <div class="me-2 mb-1 whitespace-nowrap sm:mb-0">
                  Social Links:
                </div>
                <Socials />
              </div>
            )
          }
        </div>

        <!-- logo + rss on the right (hidden on small screens if you want) -->
        <div class="hidden flex-col items-end gap-4 sm:flex">
          <BgmLogo class="h-16 w-16 sm:h-20 sm:w-20 dark:invert" />
        </div>
      </div>
    </section>

    <Hr />

    <!-- QUICK LINKS GRID -->
    <section class="space-y-4 pt-8 pb-4">
      <h2 class="text-2xl font-semibold tracking-wide">Quick links</h2>
      <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
        <a
          href="/about"
          class="block rounded-lg border border-slate-700 p-4 transition hover:border-orange-400 hover:bg-slate-800/40"
        >
          <h3 class="text-base font-semibold">About</h3>
          <p class="mt-1 text-sm text-slate-300">
            Background, values, and how I lead.
          </p>
        </a>

        <a
          href="/systems"
          class="block rounded-lg border border-slate-700 p-4 transition hover:border-orange-400 hover:bg-slate-800/40"
        >
          <h3 class="text-base font-semibold">Systems &amp; Documentation</h3>
          <p class="mt-1 text-sm text-slate-300">
            Curriculum manual, X / âœ“ / ? system, and organization frameworks.
          </p>
        </a>

        <a
          href="/projects"
          class="block rounded-lg border border-slate-700 p-4 transition hover:border-orange-400 hover:bg-slate-800/40"
        >
          <h3 class="text-base font-semibold">Projects</h3>
          <p class="mt-1 text-sm text-slate-300">
            Java mini-games, portfolio, and technical experiments.
          </p>
        </a>

        <a
          href="/timeline"
          class="block rounded-lg border border-slate-700 p-4 transition hover:border-orange-400 hover:bg-slate-800/40"
        >
          <h3 class="text-base font-semibold">Timeline</h3>
          <p class="mt-1 text-sm text-slate-300">
            Key milestones in my martial arts and tech journey.
          </p>
        </a>

        <a
          href="/systems#download"
          class="block rounded-lg border border-slate-700 p-4 transition hover:border-orange-400 hover:bg-slate-800/40"
        >
          <h3 class="text-base font-semibold">Curriculum Manual</h3>
          <p class="mt-1 text-sm text-slate-300">
            Downloadable rank requirement reference.
          </p>
        </a>

        <a
          href="https://instagram.com/brandonmederos"
          target="_blank"
          rel="noreferrer"
          class="block rounded-lg border border-slate-700 p-4 transition hover:border-orange-400 hover:bg-slate-800/40"
        >
          <h3 class="text-base font-semibold">Instagram</h3>
          <p class="mt-1 text-sm text-slate-300">
            Training clips, teaching moments, and updates.
          </p>
        </a>
      </div>
    </section>

    <Hr />
  </main>
</Layout>
<Footer />

<script>
  document.addEventListener("astro:page-load", () => {
    const indexLayout = (document.querySelector("#main-content") as HTMLElement)
      ?.dataset?.layout;
    if (indexLayout) {
      sessionStorage.setItem("backUrl", "/");
    }
  });
</script>
